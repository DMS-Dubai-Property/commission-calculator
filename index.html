<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commission Calculator</title>
    <style>
        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 15px;
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            max-width: 600px;
        }

        /* Header */
        h1 {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 15px;
        }

        /* Input Styles */
        label {
            font-size: 1em;
            margin-bottom: 8px;
            display: block;
        }

        input[type="number"],
        input[type="text"],
        button {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1em;
        }

        input[type="number"] {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
        }

        button {
            background-color: #4CAF50;
            color: white;
            font-size: 1.2em;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45a049;
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* Results Section */
        .results {
            margin-top: 20px;
        }

        .results p {
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .results button {
            width: 48%;
            margin: 5px 1%;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.2em;
            }

            label {
                font-size: 0.9em;
            }

            input[type="number"],
            input[type="text"],
            button {
                font-size: 1em;
                padding: 8px;
            }

            button {
                font-size: 1.1em;
            }

            .results {
                margin-top: 10px;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            h1 {
                font-size: 1.1em;
            }

            label {
                font-size: 0.85em;
            }

            input[type="number"],
            input[type="text"],
            button {
                font-size: 0.9em;
                padding: 7px;
            }

            button {
                font-size: 1em;
            }

            .results p {
                font-size: 1em;
            }

            .results button {
                width: 100%;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Commission Calculator</h1>

        <div>
            <label for="salePrice">Property Sale Price (AED)</label>
            <input type="number" id="salePrice" placeholder="Enter property price in AED">
        </div>

        <div>
            <label for="conversionRate">Conversion Rate (AED to GBP)</label>
            <input type="number" id="conversionRate" placeholder="Enter conversion rate">
        </div>

        <div>
            <label for="brokerRate">Broker Commission Rate (%)</label>
            <input type="number" id="brokerRate" placeholder="Enter broker commission rate">
        </div>

        <div>
            <label for="referralRate">Referral Commission Rate (%)</label>
            <input type="number" id="referralRate" placeholder="Enter referral commission rate">
        </div>

        <div>
            <label for="numBrokers">Number of Brokers</label>
            <input type="number" id="numBrokers" value="1" min="1">
        </div>

        <div>
            <label for="numReferrers">Number of Referrers</label>
            <input type="number" id="numReferrers" value="1" min="1">
        </div>

        <button id="calculateBtn">Calculate</button>

        <div class="results" id="results" style="display: none;">
            <p id="totalBrokerCommission"></p>
            <p id="totalReferralCommission"></p>
            <p id="brokerNetCommission"></p>
            <p id="eachBrokerGets"></p>
            <p id="eachReferrerGets"></p>
            <button id="downloadPDF">Download PDF</button>
            <button id="downloadExcel">Download Excel</button>
        </div>
    </div>

    <script>
        document.getElementById('calculateBtn').addEventListener('click', function() {
            // Get user inputs
            const salePrice = parseFloat(document.getElementById('salePrice').value) || 0;
            const conversionRate = parseFloat(document.getElementById('conversionRate').value) || 0;
            const brokerRate = parseFloat(document.getElementById('brokerRate').value) || 0;
            const referralRate = parseFloat(document.getElementById('referralRate').value) || 0;
            const numBrokers = parseInt(document.getElementById('numBrokers').value) || 1;
            const numReferrers = parseInt(document.getElementById('numReferrers').value) || 1;

            // Convert AED to GBP
            const salePriceInGBP = salePrice / conversionRate;

            // Calculate commissions
            const brokerCommission = (salePriceInGBP * brokerRate) / 100;
            const referralCommission = (salePriceInGBP * referralRate) / 100;
            const brokerNetCommission = brokerCommission - referralCommission;
            const brokerShare = brokerNetCommission / numBrokers;
            const referralShare = referralCommission / numReferrers;

            // Format to GBP
            const formatCurrency = (value) => new Intl.NumberFormat("en-GB", {
                style: "currency",
                currency: "GBP",
            }).format(value);

            // Show results
            document.getElementById('totalBrokerCommission').innerText = 'Total Broker Commission: ' + formatCurrency(brokerCommission);
            document.getElementById('totalReferralCommission').innerText = 'Referral Commission: ' + formatCurrency(referralCommission);
            document.getElementById('brokerNetCommission').innerText = 'Broker Net Commission: ' + formatCurrency(brokerNetCommission);
            document.getElementById('eachBrokerGets').innerText = 'Each Broker Gets: ' + formatCurrency(brokerShare);
            document.getElementById('eachReferrerGets').innerText = 'Each Referrer Gets: ' + formatCurrency(referralShare);

            // Show results section
            document.getElementById('results').style.display = 'block';
        });
    </script>
</body>
</html>
